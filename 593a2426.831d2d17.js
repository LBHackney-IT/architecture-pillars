(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return d}));var o=n(3),r=n(7),i=(n(0),n(99)),a=["components"],l={id:"cloudwatch_log_retention",title:"CloudWatch Log Retention Policy"},c={unversionedId:"cloudwatch_log_retention",id:"cloudwatch_log_retention",isDocsHomePage:!1,title:"CloudWatch Log Retention Policy",description:"Purpose",source:"@site/docs/cloudwatch_log_retention.md",slug:"/cloudwatch_log_retention",permalink:"/architecture-pillars/cloudwatch_log_retention",editUrl:"https://github.com/LBHackney-IT/architecture-pillars/edit/master/docs/cloudwatch_log_retention.md",version:"current",sidebar:"docs",previous:{title:"Auto-scaling for AWS resources used in Software Engineering",permalink:"/architecture-pillars/auto_scaling"},next:{title:"Preferred types of databases and when to use",permalink:"/architecture-pillars/preferred_data_source"}},s=[{value:"Purpose",id:"purpose",children:[]},{value:"Scope",id:"scope",children:[]},{value:"Policy statement",id:"policy-statement",children:[{value:"Development",id:"development",children:[]},{value:"Staging",id:"staging",children:[]},{value:"Production",id:"production",children:[]}]}],u={toc:s};function d(e){var t=e.components,n=Object(r.a)(e,a);return Object(i.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"purpose"},"Purpose"),Object(i.b)("p",null,"The purpose of this policy document is to outline the retention length strategy for AWS CloudWatch logs collected. "),Object(i.b)("p",null,"As of August 2022, logs are retained indefinitely. This results in:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Increased cost."),Object(i.b)("li",{parentName:"ul"},"Retaining a large amount of data that is not needed which is against ",Object(i.b)("a",{parentName:"li",href:"https://docs.google.com/document/d/1RhkbwSG4t_a6_4gzafvwX3H7P_KJC-MIpcwbAJ-7W5c/edit#heading=h.6aspf2m8ofw2"},"Hackney's log retention policy"),".")),Object(i.b)("h3",{id:"scope"},"Scope"),Object(i.b)("p",null,"This policy applies for all past, current and future development projects that utilise the AWS service CloudWatch to collect logs. The retention period will vary depending on the deployment environment."),Object(i.b)("h2",{id:"policy-statement"},"Policy statement"),Object(i.b)("h3",{id:"development"},"Development"),Object(i.b)("p",null,"A development environment is usually ever changing and unstable with ongoing feature development and changes. Any data changes occurring within the environment are for development purposes only - no live data is generated within this environment. Logs are required for the duration of a feature development - if the ongoing feature development is longer than the agreed retention period (detailed below), the logs can be re-generated by reproducing the issue being investigated."),Object(i.b)("p",null,"All logs collected in a development environment must be retained for a maximum of 30 days. "),Object(i.b)("h3",{id:"staging"},"Staging"),Object(i.b)("p",null,"Staging environments are used for quality assurance purposes, including user acceptance testing. Any data changes occurring within the environment are for testing purposes only - no live data is generated within this environment. For this reason, logs should not be retained for a prolonged period of time."),Object(i.b)("p",null,"All logs collected in a staging environment must be retained for a maximum of 3 weeks."),Object(i.b)("h3",{id:"production"},"Production"),Object(i.b)("p",null,"A production environment is a live environment and retaining logs for a longer period of time is required in order to enable investigation for bugs and issues. Depending on priorities, in line with SLA policies, reported issues could not be looked into immediately. This requires logs to be available for a longer period of time to enable engineers to perform an investigation at a later stage."),Object(i.b)("p",null,"All logs collected in a production environment must be retained for a minimum of 6 months, as per ",Object(i.b)("a",{parentName:"p",href:"https://docs.google.com/document/d/1RhkbwSG4t_a6_4gzafvwX3H7P_KJC-MIpcwbAJ-7W5c/edit#heading=h.6aspf2m8ofw2"},"Hackney\u2019s logs management policy"),", and a maximum of 8 months."))}d.isMDXComponent=!0},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=u(n),g=o,m=d["".concat(a,".").concat(g)]||d[g]||p[g]||i;return n?r.a.createElement(m,l(l({ref:t},s),{},{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=g;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=n[s];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);