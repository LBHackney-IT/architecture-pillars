<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/architecture-pillars/blog/rss.xml" title="Hackney Architecture Pillars Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/architecture-pillars/blog/atom.xml" title="Hackney Architecture Pillars Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hackney Architecture Pillars" href="/architecture-pillars/opensearch.xml"><title data-react-helmet="true">Managing API Releases | Hackney Architecture Pillars</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Managing API Releases | Hackney Architecture Pillars"><meta data-react-helmet="true" name="description" content="As per Hackneyâ€™s ways of working, we always try to opt for building reusable platform APIs instead of service APIs. This approach has proven to have reduced development time, reduced duplication of effort and increased consistency across our API platform."><meta data-react-helmet="true" property="og:description" content="As per Hackneyâ€™s ways of working, we always try to opt for building reusable platform APIs instead of service APIs. This approach has proven to have reduced development time, reduced duplication of effort and increased consistency across our API platform."><meta data-react-helmet="true" property="og:url" content="https://github.com/LBHackney-IT/architecture-pillars/architecture-pillars/release_process"><link data-react-helmet="true" rel="shortcut icon" href="/architecture-pillars/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://github.com/LBHackney-IT/architecture-pillars/architecture-pillars/release_process"><link rel="stylesheet" href="/architecture-pillars/styles.cd915cb9.css">
<link rel="stylesheet" href="/architecture-pillars/main.4a16e2e4.css">
<link rel="preload" href="/architecture-pillars/styles.59ce4859.js" as="script">
<link rel="preload" href="/architecture-pillars/runtime~main.fb458387.js" as="script">
<link rel="preload" href="/architecture-pillars/main.d98cc4a5.js" as="script">
<link rel="preload" href="/architecture-pillars/1.d704cc14.js" as="script">
<link rel="preload" href="/architecture-pillars/2.cfa801d4.js" as="script">
<link rel="preload" href="/architecture-pillars/29.861029c2.js" as="script">
<link rel="preload" href="/architecture-pillars/32.a55e7306.js" as="script">
<link rel="preload" href="/architecture-pillars/935f2afb.77f91658.js" as="script">
<link rel="preload" href="/architecture-pillars/17896441.cc7c9bcb.js" as="script">
<link rel="preload" href="/architecture-pillars/f6b8077f.365eb86d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/architecture-pillars/"><img src="/architecture-pillars/img/logo-long.svg" alt="Architecture Pillars" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/architecture-pillars/img/logo-long.svg" alt="Architecture Pillars" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Architecture Pillars</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/architecture-pillars" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/architecture-pillars/"><img src="/architecture-pillars/img/logo-long.svg" alt="Architecture Pillars" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/architecture-pillars/img/logo-long.svg" alt="Architecture Pillars" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Architecture Pillars</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/architecture-pillars" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/architecture-pillars/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Architecture Pillars</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Reliabilty</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/production_deployment">Production Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/preferred_data_source">Preferred types of databases and when to use</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/core_resource_compliance">Core AWS resources compliance checks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/automated_remediation">AWS Config for enabling automated remediation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Scalibility</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/preferred_data_source">Preferred types of databases and when to use</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/auto_scaling">Auto-scaling for AWS resources used in Software Engineering</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/core_resource_compliance">Core AWS resources compliance checks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/dev_least_principles">Developer Least Priviledge Principles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Cost Optimisation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/auto_scaling">Auto-scaling for AWS resources used in Software Engineering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/cloudwatch_log_retention">CloudWatch Log Retention Policy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">High Availability and Performance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/preferred_data_source">Preferred types of databases and when to use</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture-pillars/production_deployment">Production Deployment</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Development Principles and Quality Assurance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/testing_standards">HackIT Testing Standards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/data_driven">HackIT Data Driven Guidelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/api_compliance">API Compliance Checklist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/qa_process">Enhancing the Quality Assurance process in Hackney through the use of automation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/repository_standards">Managing our GitHub repositoriesâ€™ branches</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/minimum_qa_standard">Minimum QA testing requirements in Hackneyâ€™s Software Development Lifecycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/developer_onboarding">Developer technical on-boarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/data_modelling">Data Modelling Principles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/adr">Architecture Decision Records</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/api_spec_asessment_process">API Specifications Assessment Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/architecture-pillars/data_meetup_template">Data Meetup Template</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/architecture-pillars/release_process">Managing API Releases</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/architecture-pillars/contact_us">Contact Our Development Team</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Managing API Releases</h1></header><div class="markdown"><p>As per Hackneyâ€™s ways of working, we always try to opt for building reusable <a href="https://playbook.hackney.gov.uk/API-Playbook/platform_api_vs_service_api" target="_blank" rel="noopener noreferrer">platform APIs</a> instead of service APIs. This approach has proven to have reduced development time, reduced duplication of effort and increased consistency across our API platform.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ownership-of-reusable-components"></a>Ownership of reusable components<a class="hash-link" href="#ownership-of-reusable-components" title="Direct link to heading">#</a></h3><p>As microservices are shared across multiple consuming services, there is no one single team responsible for maintaining those. </p><p>All engineers have shared ownership and responsibility for the maintenance of our APIs, including:</p><ul><li>Actioning security vulnerabilities.</li><li>Extending functionality, following our <a href="https://playbook.hackney.gov.uk/api-specifications/assessment_process/" target="_blank" rel="noopener noreferrer">API specification assessment process</a>.</li></ul><p>Reusable components might have a team who are actively maintaining them as they are doing continuous work in extending the functionality as part of product development. In this case, <a href="https://playbook.hackney.gov.uk/ways-of-working/" target="_blank" rel="noopener noreferrer">Hackneyâ€™s PR process</a> applies.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="releasing-changes"></a>Releasing changes<a class="hash-link" href="#releasing-changes" title="Direct link to heading">#</a></h3><p>Hackneyâ€™s high level development lifecycle </p><p>(place diagram from here  <a href="https://lucid.app/lucidchart/f3bd9a5f-0b2c-48e9-b5bf-ea15c2392e04/edit?viewport_loc=-1529%2C-1021%2C3893%2C1889%2CRXcrrlyFfDqh&amp;invitationId=inv_475de4cd-58a9-48d9-b5cf-d44eac3c9663#" target="_blank" rel="noopener noreferrer">https://lucid.app/lucidchart/f3bd9a5f-0b2c-48e9-b5bf-ea15c2392e04/edit?viewport_loc=-1529%2C-1021%2C3893%2C1889%2CRXcrrlyFfDqh&amp;invitationId=inv_475de4cd-58a9-48d9-b5cf-d44eac3c9663#</a>) </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="product-changes-deployment"></a>Product changes deployment<a class="hash-link" href="#product-changes-deployment" title="Direct link to heading">#</a></h4><p>All new APIs and changes to existing APIs that are to be deployed across our AWS environments must adhere to our <a href="https://playbook-development.hackney.gov.uk/API-Playbook/api_compliance" target="_blank" rel="noopener noreferrer">API compliance</a> requirements.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="releasing-reusable-components"></a>Releasing reusable components<a class="hash-link" href="#releasing-reusable-components" title="Direct link to heading">#</a></h4><p>As reusable components are shared amongst teams, all production deployments should be first announced on a common channel to raise awareness and allow for teams to provide feedback if they believe a deployment should be delayed. </p><p>To avoid introducing blockers for teams wishing to release their code, feature flag implementation should be used, which is described later in this document.</p><p><strong>Note:</strong> All changes to the API design and contract of a reusable platform API should first be presented at the Data meetup as part of our <a href="https://playbook.hackney.gov.uk/api-specifications/assessment_process/" target="_blank" rel="noopener noreferrer">API specification assessment process</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="managing-changes-to-apis-already-in-production"></a>Managing changes to APIs already in production<a class="hash-link" href="#managing-changes-to-apis-already-in-production" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="api-versioning"></a>API Versioning<a class="hash-link" href="#api-versioning" title="Direct link to heading">#</a></h4><p>An APIâ€™s <strong>major version</strong> should be incremented if a breaking change is introduced. Breaking changes include:</p><ul><li>Making an existing data property as required.</li><li>Amending the API contract by removing or amending the name of an existing property.</li><li>Other changes to the functionality that will change the output or requires input previously not required.</li></ul><p>To increment an APIâ€™s version, create a new folder with the version name and introduce the new API endpoint(s) under the new version. To reduce duplication of code, please use a shared NuGet package to extract common code/functionality instead of replicating it across API versions. You can find more information on what NuGet packages are and how we use them <a href="https://playbook-development.hackney.gov.uk/API-Playbook/nuget_packages" target="_blank" rel="noopener noreferrer">here</a>.</p><p><strong>Note:</strong> Not all existing API endpoints need to be re-created under the new version. Only API endpoints with breaking changes should have their version incremented.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="feature-flags"></a>Feature flags<a class="hash-link" href="#feature-flags" title="Direct link to heading">#</a></h4><p>Feature flags are a useful way of limiting what functionality is available to consuming services once the code has been deployed to an environment. </p><ul><li>A change to a reusable component might be needed that might not be a breaking change, so it wonâ€™t require an incremented version, however, it might require prerequisites to be completed before it can be released.</li><li>A change might be made by one of the teams, but it should not be released prior to a certain date.</li></ul><p>As multiple teams share and make implementation changes to our reusable components, making use of feature flags allows for teams to manage when their change is released.</p><p>A code change might be committed to the common repositoryâ€™s main branch and released as part of a deployment done by another team also seeking to release their changes. To avoid releasing code to a production environment, before the team who has implemented the change is comfortable with doing so, the change should be put behind a feature flag. In this way:</p><ul><li>Teams do not introduce blockers to other teams wishing to release or delay the release of their changes.</li><li>Code changes could be present in the production environment but not available to the API consumers and thus not causing potential service outages.   </li></ul><p>Feature flags implementation is documented <a href="https://playbook-development.hackney.gov.uk/API-Playbook/feature-toggle" target="_blank" rel="noopener noreferrer">here</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/architecture-pillars/edit/master/docs/release_process.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/architecture-pillars/data_meetup_template"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Data Meetup Template</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/architecture-pillars/contact_us"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contact Our Development Team Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ownership-of-reusable-components" class="table-of-contents__link">Ownership of reusable components</a></li><li><a href="#releasing-changes" class="table-of-contents__link">Releasing changes</a></li><li><a href="#managing-changes-to-apis-already-in-production" class="table-of-contents__link">Managing changes to APIs already in production</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/architecture-pillars/styles.59ce4859.js"></script>
<script src="/architecture-pillars/runtime~main.fb458387.js"></script>
<script src="/architecture-pillars/main.d98cc4a5.js"></script>
<script src="/architecture-pillars/1.d704cc14.js"></script>
<script src="/architecture-pillars/2.cfa801d4.js"></script>
<script src="/architecture-pillars/29.861029c2.js"></script>
<script src="/architecture-pillars/32.a55e7306.js"></script>
<script src="/architecture-pillars/935f2afb.77f91658.js"></script>
<script src="/architecture-pillars/17896441.cc7c9bcb.js"></script>
<script src="/architecture-pillars/f6b8077f.365eb86d.js"></script>
</body>
</html>